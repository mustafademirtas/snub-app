<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta tags -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- App metadata -->
    <title>Snub - Microphone Control</title>
    <meta name="description" content="Simple macOS microphone control application with system tray integration" />
    <meta name="author" content="Snub Team" />
    
    <!-- Prevent zooming and selection for app-like experience -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <meta name="format-detection" content="telephone=no" />
    
    <!-- Styles -->
    <link rel="stylesheet" href="/src/styles.css" />
    
    <!-- Scripts -->
    <script type="module" src="/src/main.ts" defer></script>
  </head>

  <body>
    <!-- Application Header with Controls -->
    <header class="app-header">
      <button 
        id="close-button" 
        class="close-btn" 
        type="button"
        aria-label="Close application"
        title="Close Snub (Esc)"
      >
        <svg 
          class="close-btn__icon" 
          width="12" 
          height="12" 
          viewBox="0 0 24 24" 
          fill="currentColor"
          aria-hidden="true"
          focusable="false"
        >
          <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/>
        </svg>
      </button>
    </header>

    <!-- Main Application Content -->
    <main 
      class="app app--draggable" 
      id="draggable-area"
      role="main"
      aria-label="Microphone control interface"
    >
      <!-- Microphone Control Section -->
      <section class="mic-control" aria-labelledby="mic-control-heading">
        <!-- Screen reader only heading for accessibility -->
        <h1 id="mic-control-heading" class="u-visually-hidden">
          Microphone Control
        </h1>
        
        <!-- Microphone Toggle Button -->
        <button 
          id="mic-toggle" 
          class="mic-control__button" 
          type="button"
          aria-label="Toggle microphone"
          aria-describedby="mic-status-description"
          title="Toggle microphone (Space)"
        >
          <!-- Active Microphone Icon -->
          <svg 
            id="mic-icon" 
            class="mic-control__icon" 
            viewBox="0 0 24 24" 
            fill="currentColor"
            aria-hidden="true"
            focusable="false"
            role="img"
          >
            <title>Microphone active</title>
            <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
            <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
          </svg>
          
          <!-- Muted Microphone Icon -->
          <svg 
            id="mic-off-icon" 
            class="mic-control__icon mic-control__icon--hidden" 
            viewBox="0 0 24 24" 
            fill="currentColor"
            aria-hidden="true"
            focusable="false"
            role="img"
          >
            <title>Microphone muted</title>
            <path d="M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c.57-.08 1.12-.23 1.64-.46l2.92 2.92L18.73 21 4.27 3z"/>
          </svg>
        </button>
        
        <!-- Status information for screen readers -->
        <div 
          id="mic-status-description" 
          class="u-visually-hidden" 
          aria-live="polite" 
          aria-atomic="true"
        >
          Microphone status will be announced here
        </div>
        
        <!-- Optional: Status text for future use -->
        <!--
        <p 
          id="mic-status" 
          class="mic-control__status"
          aria-live="polite"
        >
          Microphone: Unknown
        </p>
        -->
      </section>
      
      <!-- Keyboard shortcuts info (hidden by default) -->
      <div 
        class="keyboard-shortcuts u-visually-hidden" 
        aria-label="Keyboard shortcuts"
      >
        <ul>
          <li>Press Space to toggle microphone</li>
          <li>Press Escape to close application</li>
        </ul>
      </div>
    </main>
  </body>
</html>
